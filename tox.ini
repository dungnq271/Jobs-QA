[tox]
envlist = lint, format, py{310,311,312}
skipsdist = true  # Production deployment only

[testenv]
deps =
    pytest
    -r requirements.txt
commands =
    pytest

[testenv:lint]
description = Run ruff linter
skip_install = true
deps =
    ruff
commands =
    ruff check {posargs} .

[testenv:format]
description = Run ruff formatter
skip_install = true
deps =
    ruff
commands =
    ruff format .

[testenv:py310]
description = Run tests with Python 3.10
basepython = python3.10

[testenv:py311]
description = Run tests with Python 3.11
basepython = python3.11

[testenv:py312]
description = Run tests with Python 3.12
basepython = python3.12
